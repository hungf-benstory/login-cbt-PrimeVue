{
  "version": 3,
  "sources": ["../../@primeuix/src/utils/index.ts", "../../@primeuix/src/resolvers/zod/index.ts"],
  "sourcesContent": ["import { isObject } from '@primeuix/utils/object';\n\nexport const toValues = (value: any, name?: string) => {\n    if (isObject(value) && value.hasOwnProperty(name)) {\n        return value;\n    }\n\n    return name ? { [name]: value } : value;\n};\n", "import { toValues } from '@primeuix/forms/utils';\nimport { isNotEmpty } from '@primeuix/utils/object';\nimport type { ParseParams, Schema } from 'zod';\nimport type { ResolverOptions, ResolverResult } from '..';\n\nexport const zodResolver =\n    <T extends Schema<any, any>>(schema: T, schemaOptions?: ParseParams, resolverOptions?: ResolverOptions) =>\n    async ({ values, name }: any): Promise<ResolverResult<T>> => {\n        const { sync = false, raw = false } = resolverOptions || {};\n\n        try {\n            const result = await schema[sync ? 'parse' : 'parseAsync'](values, schemaOptions);\n\n            return {\n                values: toValues(raw ? values : result, name),\n                errors: {}\n            };\n        } catch (e: any) {\n            if (Array.isArray(e?.errors)) {\n                return {\n                    values: toValues(raw ? values : undefined, name),\n                    errors: e.errors.reduce((acc: Record<string, any[]>, error: any) => {\n                        const pathKey = isNotEmpty(error.path) ? error.path[0] : name;\n\n                        if (pathKey) {\n                            acc[pathKey] ||= [];\n                            acc[pathKey].push(error);\n                        }\n\n                        return acc;\n                    }, {})\n                };\n            }\n\n            throw e;\n        }\n    };\n"],
  "mappings": ";;;;;;;AAEO,IAAM,WAAW,CAAC,OAAY,SAAkB;AACnD,MAAI,SAAS,KAAK,KAAK,MAAM,eAAe,IAAI,GAAG;AAC/C,WAAO;EACX;AAEA,SAAO,OAAO,EAAE,CAAC,IAAI,GAAG,MAAM,IAAI;AACtC;;;ACHO,IAAM,cACT,CAA6B,QAAW,eAA6B,oBACrE,OAAO,EAAE,QAAQ,KAAK,MAAuC;AACzD,QAAM,EAAE,OAAO,OAAO,MAAM,MAAM,IAAI,mBAAmB,CAAC;AAE1D,MAAI;AACA,UAAM,SAAS,MAAM,OAAO,OAAO,UAAU,YAAY,EAAE,QAAQ,aAAa;AAEhF,WAAO;MACH,QAAQ,SAAS,MAAM,SAAS,QAAQ,IAAI;MAC5C,QAAQ,CAAC;IACb;EACJ,SAAS,GAAQ;AACb,QAAI,MAAM,QAAQ,uBAAG,MAAM,GAAG;AAC1B,aAAO;QACH,QAAQ,SAAS,MAAM,SAAS,QAAW,IAAI;QAC/C,QAAQ,EAAE,OAAO,OAAO,CAAC,KAA4B,UAAe;AAChE,gBAAM,UAAU,WAAW,MAAM,IAAI,IAAI,MAAM,KAAK,CAAC,IAAI;AAEzD,cAAI,SAAS;AACT,4CAAiB,CAAC;AAClB,gBAAI,OAAO,EAAE,KAAK,KAAK;UAC3B;AAEA,iBAAO;QACX,GAAG,CAAC,CAAC;MACT;IACJ;AAEA,UAAM;EACV;AACJ;",
  "names": []
}
